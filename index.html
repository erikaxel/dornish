<html>
<body>
<h1 id="header">You will give a gift to:</h1>
</body>

<script>
  /*
     For å lage en trekning trenger du kun å endre på givingHash.
     Dersom det er endring i antall deltagere må du sørge for at codeToNumber har riktig antall
     Dersom det er endring i hvem som er med så må du sørge for at hash er oppdatert
     For codeToNumber og hash er selve verdiene likegyldige, må bare sørge for at alt alle verdier er representert

     Du får en liste over lenker til de forskjellige i javascript-konsollet.
   */

  function findGetParameter(parameterName) {
    var result = null,
      tmp = [];
    location.search
      .substr(1)
      .split("&")
      .forEach(function (item) {
        tmp = item.split("=");
        if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
      });
    return result;
  }
  var codeToNumber = {
    "tofu": "1",
    "bolle": "2",
    "rosin": "3",
    "lykt": "4",
    "hanske": "5",
    "gate": "6",
    "tennis": "7",
    "lampe": "8",
    "sykkel": "9",
    "sol": "10",
  };



















  var hash = {
    "5":"Mike",
    "1":"Otto",
    "2":"Anne Christin",
    "4":"Hanne",
    "7":"Elisabeth",
    "3":"Erik Axel",
    "6":"Frits",
    "8":"Tage",
    "9":"Linda",
    "10": "Annelies"
  };











  var givingHash =  {
    1: 8,
    2: 9,
    3: 1,
    4: 3,
    5: 2,
    6: 5,
    7: 10,
    8: 7,
    9: 4,
    10:6
  }

  // console.log(codeToNumber);
  var giverNum = codeToNumber[findGetParameter("code")];
  var recNum = givingHash[giverNum];
  var receiver = hash[recNum];
  console.log(receiver);

  // To get the right codewords
  console.log("Send out these link to these people:")
  Object.keys(codeToNumber).forEach(function (key) {
    var value = codeToNumber[key]
    console.log("https://www.dornish.no/?code=" + key + " " + hash[value]);
  })

  document.getElementById("header").innerHTML = "Du skal gi gave til: " + receiver
</script>
</html>
